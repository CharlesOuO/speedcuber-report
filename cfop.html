<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CFOP Method - Charles Lin</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* F2L 分類標題樣式 */
        .f2l-category-title {
            grid-column: 1 / -1;
            font-family: 'Poppins', sans-serif;
            font-size: 1.2rem;
            color: #0a192f;
            border-left: 5px solid #FFC107;
            padding-left: 10px;
            margin-top: 30px;
            margin-bottom: 10px;
            text-align: left;
        }

        /* OLL/PLL 卡片微調 */
        .oll-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .oll-card {
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            text-align: center;
            border: 1px solid #eee;
            position: relative;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            cursor: zoom-in;
        }

        .oll-card:hover {
            transform: scale(1.1);
            z-index: 100;
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            transition-delay: 0.2s; 
        }

        .oll-card h4 { margin: 0 0 5px 0; color: #555; font-size: 0.85rem; }
        .oll-card img { width: 100px; height: 100px; object-fit: contain; margin-bottom: 5px; }
        .oll-card p { font-size: 0.75rem; color: #007BFF; font-weight: 700; margin: 0; line-height: 1.3; word-wrap: break-word; background: white; }
    </style>
</head>
<body>
    <header class="hero-header">
        <div class="container nav-container">
            <div class="logo">Charles Lin</div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="notation.html">Notation</a></li>
                    <li><a href="lbl.html">LBL Method</a></li>
                    <li><a href="cfop.html" class="active">CFOP Method</a></li>
                    <li><a href="oh.html">3x3 OH</a></li>
                </ul>
            </nav>
        </div>
        <div class="container hero-content">
            <h1>CFOP Method</h1>
            <p class="subtitle">The advanced speedcubing method: Cross, F2L, OLL, PLL.</p>
        </div>
    </header>

    <main>
        <section class="section-white intro-section icon-nav-section">
            <div class="container">
                <div class="section-header text-center">
                    <h2>Overview</h2>
                    <div class="divider"></div>
                </div>
                <div class="intro-card">
                    <p>The <strong>CFOP (Fridrich)</strong> Method is widely used by speedcubers globally. It divides the solve into four major stages. Click icons to jump.</p>
                </div>

                <div class="icon-nav-grid">
                    <a href="#step-cross" class="nav-icon-box"><div class="nav-icon-circle">C</div><span class="nav-label">Cross</span></a>
                    <a href="#step-f2l" class="nav-icon-box"><div class="nav-icon-circle">F</div><span class="nav-label">F2L</span></a>
                    <a href="#step-oll" class="nav-icon-box"><div class="nav-icon-circle">O</div><span class="nav-label">OLL</span></a>
                    <a href="#step-pll" class="nav-icon-box"><div class="nav-icon-circle">P</div><span class="nav-label">PLL</span></a>
                </div>
            </div>
        </section>

        <section class="section-gray">
            <div class="container">
                <div class="section-header text-center">
                    <h2>Detailed Steps</h2>
                    <div class="divider"></div>
                </div>

                <div class="step-detail-view">
                    
                    <div id="step-cross" class="step-card step-detail-card">
                        <div class="step-number">01</div>
                        <div class="step-content">
                            <h3>Cross</h3>
                            <p>Build the cross directly on the bottom (D-face) to save rotation time. Plan the entire cross during inspection.</p>
                            <p style="margin-top: 10px; color: #007BFF; font-weight: bold;">On average, the Cross can be solved within 8 moves.</p>
                            <img src="cross_cube.png" alt="Cross" style="width: 200px; display:block; margin: 20px auto; cursor: zoom-in;">
                        </div>
                    </div>

                    <div id="step-f2l" class="step-card step-detail-card">
                        <div class="step-number">02</div>
                        <div class="step-content">
                            <h3>F2L (First 2 Layers)</h3>
                            <p>Solving corners and edges simultaneously. Here are the 41 standard cases sorted by type.</p>
                            
                            <div id="f2l-container" class="oll-grid"></div>
                        </div>
                    </div>

                    <div id="step-oll" class="step-card step-detail-card">
                        <div class="step-number">03</div>
                        <div class="step-content">
                            <h3>OLL (Orientation)</h3>
                            <p>Orienting all pieces on the top layer (57 Algorithms).</p>
                            
                            <div id="oll-container" class="oll-grid"></div>
                        </div>
                    </div>

                    <div id="step-pll" class="step-card step-detail-card">
                        <div class="step-number">04</div>
                        <div class="step-content">
                            <h3>PLL (Permutation)</h3>
                            <p>Permuting pieces to solve the cube (21 Algorithms).</p>
                            
                            <div id="pll-container" class="oll-grid"></div>
                        </div>
                    </div>

                    <div class="step-card" style="background-color: #e8f5e9; border-left: 5px solid #28a745; margin-top: 30px;">
                        <div class="step-content" style="text-align: center;">
                            <h3 style="color: #28a745; margin-bottom: 10px;">Keep Practicing!</h3>
                            <p style="font-size: 1.1rem; font-weight: bold;">Once you master CFOP and practice consistently, achieving Sub-10 is just a matter of time!</p>
                        </div>
                    </div>

                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>© 2025 Charles Lin. WCA ID: 2020LINC05</p>
            <div class="social-links">
                <a href="https://www.worldcubeassociation.org/persons/2020LINC05" target="_blank" style="font-size: 1.5rem;" title="WCA Profile"><i class="fas fa-cube"></i></a>
                <a href="https://www.instagram.com/chihjialin?igsh=MW5iZmM4bWJsZXJhZw%3D%3D&utm_source=qr" target="_blank" style="font-size: 1.5rem;" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="https://github.com/CharlesOuO" target="_blank" style="font-size: 1.5rem;" title="GitHub"><i class="fab fa-github"></i></a>
                <a href="mailto:linchihjia@gmail.com" style="font-size: 1.5rem;" title="Email Me"><i class="fas fa-envelope"></i></a>
            </div>
        </div>
    </footer>

    <button id="backToTop" onclick="scrollToTop()" title="Go to top"><i class="fas fa-arrow-up"></i></button>

    <div id="lightbox">
        <img id="lightbox-img" class="single-img-mode" src="" alt="Enlarged View">
        <div id="lightbox-content"></div>
    </div>

    <script>
        // Back to Top
        let mybutton = document.getElementById("backToTop");
        window.onscroll = function() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        };
        function scrollToTop() { window.scrollTo({top: 0, behavior: 'smooth'}); }

        // Lightbox Logic (Card Content Mode)
        const lightbox = document.getElementById('lightbox');
        const lightboxImg = document.getElementById('lightbox-img');
        const lightboxContent = document.getElementById('lightbox-content');

        // 1. Cross Image (Single)
        const crossImg = document.querySelector('#step-cross img');
        if(crossImg) {
            crossImg.addEventListener('click', (e) => {
                e.stopPropagation();
                lightbox.style.display = 'flex';
                lightboxImg.style.display = 'block';
                lightboxContent.style.display = 'none';
                lightboxImg.src = crossImg.src;
            });
        }

        // 2. Cards (Whole Card) - Use event delegation for dynamically generated cards
        document.body.addEventListener('click', function(e) {
            // Check if clicked element is inside .oll-card
            const card = e.target.closest('.oll-card');
            if (card) {
                e.stopPropagation();
                lightbox.style.display = 'flex';
                lightboxImg.style.display = 'none';
                lightboxContent.style.display = 'flex';
                lightboxContent.innerHTML = card.innerHTML;
            }
        });

        lightbox.addEventListener('click', () => { lightbox.style.display = 'none'; });

        // --- F2L Data (41 Cases) ---
        const f2lGroups = [
            {
                name: "Basic Cases (Easy)",
                cases: [
                    { id: 1, name: "F2L 1", alg: "U R U' R'" },
                    { id: 2, name: "F2L 2", alg: "y U' L' U L" },
                    { id: 3, name: "F2L 3", alg: "y L' U' L" },
                    { id: 4, name: "F2L 4", alg: "R U R'" }
                ]
            },
            {
                name: "Split Pair (Corner/Edge Separate)",
                cases: [
                    { id: 5, name: "F2L 5", alg: "U' R U R' U2 R U' R'" },
                    { id: 6, name: "F2L 6", alg: "d R' U' R U2 R' U R" },
                    { id: 7, name: "F2L 7", alg: "U' R U2 R' U2 R U' R'" },
                    { id: 8, name: "F2L 8", alg: "d R' U2 R U2 R' U R" },
                    { id: 9, name: "F2L 9", alg: "U' R U' R' U y' R' U' R" },
                    { id: 10, name: "F2L 10", alg: "U' R U R' U R U R'" },
                    { id: 11, name: "F2L 11", alg: "U R U2 R' U y' R' U' R" },
                    { id: 12, name: "F2L 12", alg: "R U' R' U R U' R' U2 R U' R'" }
                ]
            },
            {
                name: "Connected Pair (Touching)",
                cases: [
                    { id: 13, name: "F2L 13", alg: "y' U R' U R U' R' U' R" },
                    { id: 14, name: "F2L 14", alg: "U' R U' R' U R U R'" },
                    { id: 15, name: "F2L 15", alg: "R U R' U2 R  U' R' U R U' R'" },
                    { id: 16, name: "F2L 16", alg: "R U' R' U2 F' U' F" },
                    { id: 17, name: "F2L 17", alg: "R U2 R' U' R U R'" },
                    { id: 18, name: "F2L 18", alg: "y' R' U2 R U R' U' R" }
                ]
            },
            {
                name: "Corner in Bottom Slot",
                cases: [
                    { id: 19, name: "F2L 19", alg: "U R U2 R' U R U' R'" },
                    { id: 20, name: "F2L 20", alg: "y' U' R' U2 R U' R' U R" },
                    { id: 21, name: "F2L 21", alg: "U2 R U R' U R U' R'" },
                    { id: 22, name: "F2L 22", alg: "r U' r' U2 r U r'" },
                    { id: 23, name: "F2L 23", alg: "U R U' R' U' R U' R' U R U' R'" },
                    { id: 24, name: "F2L 24", alg: "y' R' U' R U2 R' U' R U R' U' R" }
                ]
            },
            {
                name: "White Corner Facing Up",
                cases: [
                    { id: 25, name: "F2L 25", alg: "U' R' F R F' R U R'" },
                    { id: 26, name: "F2L 26", alg: "U R U' R' F R' F' R" },
                    { id: 27, name: "F2L 27", alg: "R U' R' U R U' R'" },
                    { id: 28, name: "F2L 28", alg: "R U R' U' F R' F' R" },
                    { id: 29, name: "F2L 29", alg: "R' F R F' U R U' R'" },
                    { id: 30, name: "F2L 30", alg: "R U R' U' R U R'" }
                ]
            },
            {
                name: "Edge in Middle Layer",
                cases: [
                    { id: 31, name: "F2L 31", alg: "R U' R' U y' R' U R" },
                    { id: 32, name: "F2L 32", alg: "U R U' R' U R U' R' U R U' R'" },
                    { id: 33, name: "F2L 33", alg: "U' R U' R' U2 R U' R'" },
                    { id: 34, name: "F2L 34", alg: "U R U R' U2 R U R'" },
                    { id: 35, name: "F2L 35", alg: "U' R U R' U F' U' F" },
                    { id: 36, name: "F2L 36", alg: "U F' U' F U' R U R'" }
                ]
            },
            {
                name: "Both in Slot (Broken/Wrong)",
                cases: [
                    { id: 37, name: "F2L 37", alg: "R2 U2 F R2 F' U2 R' U R'" },
                    { id: 38, name: "F2L 38", alg: "R U' R' U' R U R' U2 R U' R'" },
                    { id: 39, name: "F2L 39", alg: "R U' R' U R U2 R' U R U' R'" },
                    { id: 40, name: "F2L 40", alg: "r U' r' U2 r U r' R U R'" },
                    { id: 41, name: "F2L 41", alg: "R U' R' r U' r' U2 r U r'" }
                ]
            }
        ];

        // --- OLL Data (Standard 2H) ---
        const ollData = [
            { id: 1, alg: "R U2 R2 F R F' U2 R' F R F'" }, { id: 2, alg: "r U r' U2 r U2 R' U2 R U' r'" },
            { id: 3, alg: "f R U R' U' f' U' F R U R' U' F'" }, { id: 4, alg: "f R U R' U' f' U F R U R' U' F'" },
            { id: 5, alg: "l' U2 L U L' U l" }, { id: 6, alg: "r U2 R' U' R U' r'" },
            { id: 7, alg: "r U R' U R U2 r'" }, { id: 8, alg: "l' U' L U' L' U2 l" },
            { id: 9, alg: "R U R' U' R' F R2 U R' U' F'" }, { id: 10, alg: "R U R' U R' F R F' R U2 R'" },
            { id: 11, alg: "r U R' U R' F R F' R U2 r'" }, { id: 12, alg: "M' R' U' R U' R' U2 R U' M" },
            { id: 13, alg: "F U R U' R2 F' R U R U' R'" }, { id: 14, alg: "R' U' R U' R' U2 R" },
            { id: 15, alg: "l' U' l L' U' L U l' U l" }, { id: 16, alg: "r U r' R U R' U' r U' r'" },
            { id: 17, alg: "R U R' U R' F R F' U2 R' F R F'" }, { id: 18, alg: "r U R' U R U2 r2 U' R U' R' U2 r" },
            { id: 19, alg: "r' R U R U R' U' M' R' F R F'" }, { id: 20, alg: "r U R' U' M2 U R U' R' U' M'" },
            { id: 21, alg: "R U2 R' U' R U R' U' R U' R'" }, { id: 22, alg: "R U2 R2 U' R2 U' R2 U2 R" },
            { id: 23, alg: "R2 D R' U2 R D' R' U2 R'" }, { id: 24, alg: "r U R' U' r' F R F'" },
            { id: 25, alg: "F' r U R' U' r' F R" }, { id: 26, alg: "R' U' R U' R' U2 R" },
            { id: 27, alg: "R U R' U R U2 R'" }, { id: 28, alg: "r U R' U' r' R U R U' R'" },
            { id: 29, alg: "R U R' U' R U' R' F' U' F R U R'" }, { id: 30, alg: "F R' F R2 U' R' U' R U R' F2" },
            { id: 31, alg: "R' U' F U R U' R' F' R" }, { id: 32, alg: "R U B' U' R' U R B R'" },
            { id: 33, alg: "R U R' U' R' F R F'" }, { id: 34, alg: "R U R2 U' R' F R U R U' F'" },
            { id: 35, alg: "R U2 R2 F R F' R U2 R'" }, { id: 36, alg: "L' U' L U' L' U L U L F' L' F" },
            { id: 37, alg: "F R U' R' U' R U R' F'" }, { id: 38, alg: "R U R' U R U' R' U' R' F R F'" },
            { id: 39, alg: "L F' L' U' L U F U' L'" }, { id: 40, alg: "R' F R U R' U' F' U R" },
            { id: 41, alg: "R U R' U R U2 R' F R U R' U' F'" }, { id: 42, alg: "R' U' R U' R' U2 R F R U R' U' F'" },
            { id: 43, alg: "f' L' U' L U f" }, { id: 44, alg: "f R U R' U' f'" },
            { id: 45, alg: "F R U R' U' F'" }, { id: 46, alg: "R' U' R' F R F' U R" },
            { id: 47, alg: "F' L' U' L U L' U' L U F" }, { id: 48, alg: "F R U R' U' R U R' U' F'" },
            { id: 49, alg: "r U' r2 U r2 U r2 U' r" }, { id: 50, alg: "r' U r2 U' r2 U' r2 U r'" },
            { id: 51, alg: "f R U R' U' R U R' U' f'" }, { id: 52, alg: "R' U' R U' R' U F' U F R" },
            { id: 53, alg: "r' U' r R' U' R U r' U r" }, { id: 54, alg: "r U R' U R U' R' U R U2 r'" },
            { id: 55, alg: "R' F R U R U' R2 F' R2 U' R' U R U R'" }, { id: 56, alg: "r' U r U R U' R' r U' r'" },
            { id: 57, alg: "R U R' U' M' U R U' r'" }
        ];

        // --- PLL Data (Standard 2H) ---
        const pllData = [
            { id: "aa", name: "Aa Perm", alg: "x R' U R' D2 R U' R' D2 R2" },
            { id: "ab", name: "Ab Perm", alg: "x R2 D2 R U R' D2 R U' R" },
            { id: "f", name: "F Perm", alg: "R' U' F' R U R' U' R' F R2 U' R' U' R U R' U R" },
            { id: "ga", name: "Ga Perm", alg: "R2 U R' U R' U' R U' R2 U' D R' U R D'" },
            { id: "gb", name: "Gb Perm", alg: "R' U' R U D' R2 U R' U R U' R U' R2 D" },
            { id: "gc", name: "Gc Perm", alg: "R2 U' R U' R U R' U R2 U D' R U' R' D" },
            { id: "gd", name: "Gd Perm", alg: "R U R' U' D R2 U' R U' R' U R' U R2 D'" },
            { id: "ja", name: "Ja Perm", alg: "R' U L' U2 R U' R' U2 R L" },
            { id: "jb", name: "Jb Perm", alg: "R U R' F' R U R' U' R' F R2 U' R'" },
            { id: "ra", name: "Ra Perm", alg: "R U' R' U' R U R D R' U' R D' R' U2 R'" },
            { id: "rb", name: "Rb Perm", alg: "R2 F R U R U' R' F' R U2 R' U2 R" },
            { id: "t", name: "T Perm", alg: "R U R' U' R' F R2 U' R' U' R U R' F'" },
            { id: "e", name: "E Perm", alg: "x' R U' R' D R U R' D' R U R' D R U' R' D'" },
            { id: "na", name: "Na Perm", alg: "R U R' U R U R' F' R U R' U' R' F R2 U' R' U2 R U' R'" },
            { id: "nb", name: "Nb Perm", alg: "R' U R U' R' F' U' F R U R' F R' F' R U' R" },
            { id: "v", name: "V Perm", alg: "R' U R' U' R D' R' D R' U D' R2 U' R2 D R2" },
            { id: "y", name: "Y Perm", alg: "F R U' R' U' R U R' F' R U R' U' R' F R F'" },
            { id: "h", name: "H Perm", alg: "M2 U M2 U2 M2 U M2" },
            { id: "ua", name: "Ua Perm", alg: "M2 U M U2 M' U M2" },
            { id: "ub", name: "Ub Perm", alg: "M2 U' M U2 M' U' M2" },
            { id: "z", name: "Z Perm", alg: "M2 U M2 U M' U2 M2 U2 M'" }
        ];

        // Render F2L
        const f2lContainer = document.getElementById('f2l-container');
        f2lGroups.forEach(group => {
            const title = document.createElement('div');
            title.className = 'f2l-category-title';
            title.innerText = group.name;
            f2lContainer.appendChild(title);

            group.cases.forEach(item => {
                const card = document.createElement('div');
                card.className = 'oll-card';
                const imgSrc = `f2l-${item.id}.jpg`; 
                card.innerHTML = `
                    <h4>${item.name}</h4>
                    <img src="${imgSrc}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/100?text=F2L${item.id}'">
                    <p>${item.alg}</p>
                `;
                f2lContainer.appendChild(card);
            });
        });

        // Render OLL
        const ollContainer = document.getElementById('oll-container');
        ollData.forEach(item => {
            const card = document.createElement('div');
            card.className = 'oll-card';
            const imgSrc = `oll${item.id}.jpg`; 
            card.innerHTML = `
                <h4>OLL ${item.id}</h4>
                <img src="${imgSrc}" alt="OLL ${item.id}" onerror="this.src='https://via.placeholder.com/70?text=IMG'">
                <p>${item.alg}</p>
            `;
            ollContainer.appendChild(card);
        });

        // Render PLL
        const pllContainer = document.getElementById('pll-container');
        pllData.forEach(item => {
            const card = document.createElement('div');
            card.className = 'oll-card'; 
            const imgSrc = `pll_${item.id}.jpg`; 
            card.innerHTML = `
                <h4>${item.name}</h4>
                <img src="${imgSrc}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/70?text=IMG'">
                <p>${item.alg}</p>
            `;
            pllContainer.appendChild(card);
        });
    </script>
</body>
</html>