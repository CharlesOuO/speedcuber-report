<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cube Notation - Charles Lin</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* 微調：讓 Notation 圖片在卡片中大小合適 */
        .oll-card img {
            width: 120px;
            height: 120px;
            object-fit: contain;
            margin-bottom: 10px;
        }
        
        /* 分類標題樣式 */
        .category-header {
            grid-column: 1 / -1;
            text-align: left;
            border-left: 5px solid #FFC107;
            padding-left: 15px;
            margin-top: 40px;
            margin-bottom: 10px;
            color: #0a192f;
        }
        .category-header h2 { margin: 0; font-size: 1.5rem; }
        .category-header p { margin: 5px 0 0 0; color: #666; font-size: 0.9rem; font-weight: normal; }
        
        /* 讓卡片顯示為可點擊 */
        .oll-card {
            cursor: zoom-in;
        }
    </style>
</head>
<body>
    <header class="hero-header">
        <div class="container nav-container">
            <div class="logo">Charles Lin</div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="notation.html" class="active">Notation</a></li>
                    <li><a href="lbl.html">LBL Method</a></li>
                    <li><a href="cfop.html">CFOP Method</a></li>
                    <li><a href="oh.html">3x3 OH</a></li>
                </ul>
            </nav>
        </div>
        <div class="container hero-content">
            <h1>Cube Notation</h1>
            <p class="subtitle">Complete guide to reading speedcubing algorithms.</p>
        </div>
    </header>

    <main>
        <section class="section-white intro-section icon-nav-section">
            <div class="container">
                <div class="section-header text-center">
                    <h2>Overview</h2>
                    <div class="divider"></div>
                </div>
                <div class="intro-card">
                    <p>Algorithms are sequences of moves. Each letter represents a face or layer.</p>
                    <div class="note-box" style="margin-top: 20px;">
                        <strong>Apostrophe ( ' )</strong> = Counter-Clockwise (Inverse). <br>
                        <strong>Number 2</strong> = Turn 180 degrees (Double turn).
                    </div>
                </div>
                
                <div class="icon-nav-grid">
                    <a href="#step-basic" class="nav-icon-box"><div class="nav-icon-circle">1</div><span class="nav-label">Basic</span></a>
                    <a href="#step-wide" class="nav-icon-box"><div class="nav-icon-circle">2</div><span class="nav-label">Wide</span></a>
                    <a href="#step-slice" class="nav-icon-box"><div class="nav-icon-circle">3</div><span class="nav-label">Slice</span></a>
                    <a href="#step-rotate" class="nav-icon-box"><div class="nav-icon-circle">4</div><span class="nav-label">Rotate</span></a>
                </div>
            </div>
        </section>

        <section class="section-gray">
            <div class="container">
                <div class="step-detail-view" style="margin-top: 40px;">
                    
                    <div id="step-basic" class="step-card step-detail-card">
                        <div class="step-number">01</div>
                        <div class="step-content">
                            <h3>Basic Face Turns</h3>
                            <p>Outer layers only. Clockwise & Counter-Clockwise (Prime).</p>
                            
                            <p style="margin-top:20px; font-weight:bold; color:#555;">Clockwise</p>
                            <div id="basic-container" class="oll-grid"></div>

                            <p style="margin-top:20px; font-weight:bold; color:#555;">Prime (Counter-Clockwise)</p>
                            <div id="prime-container" class="oll-grid"></div>
                        </div>
                    </div>

                    <div id="step-wide" class="step-card step-detail-card">
                        <div class="step-number">02</div>
                        <div class="step-content">
                            <h3>Wide Moves (2 Layers)</h3>
                            <p>Turn two layers at once. Denoted by lowercase letter or 'w'.</p>
                            
                            <p style="margin-top:20px; font-weight:bold; color:#555;">Wide Clockwise</p>
                            <div id="wide-container" class="oll-grid"></div>

                            <p style="margin-top:20px; font-weight:bold; color:#555;">Wide Prime</p>
                            <div id="wide-prime-container" class="oll-grid"></div>
                        </div>
                    </div>

                    <div id="step-slice" class="step-card step-detail-card">
                        <div class="step-number">03</div>
                        <div class="step-content">
                            <h3>Slice Moves (Middle Layers)</h3>
                            <p>Turn the middle layer only (M, E, S).</p>
                            <div id="slice-container" class="oll-grid"></div>
                        </div>
                    </div>

                    <div id="step-rotate" class="step-card step-detail-card">
                        <div class="step-number">04</div>
                        <div class="step-content">
                            <h3>Cube Rotations</h3>
                            <p>Rotate the entire puzzle to face a new side (Regrip).</p>
                            <div id="rotation-container" class="oll-grid"></div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>© 2025 Charles Lin. WCA ID: 2020LINC05</p>
            <div class="social-links">
                <a href="https://www.worldcubeassociation.org/persons/2020LINC05" target="_blank" style="font-size: 1.5rem;" title="WCA Profile"><i class="fas fa-cube"></i></a>
                <a href="https://www.instagram.com/chihjialin?igsh=MW5iZmM4bWJsZXJhZw%3D%3D&utm_source=qr" target="_blank" style="font-size: 1.5rem;" title="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="https://github.com/CharlesOuO" target="_blank" style="font-size: 1.5rem;" title="GitHub"><i class="fab fa-github"></i></a>
                <a href="mailto:linchihjia@gmail.com" style="font-size: 1.5rem;" title="Email Me"><i class="fas fa-envelope"></i></a>
            </div>
        </div>
    </footer>

    <button id="backToTop" onclick="scrollToTop()" title="Go to top"><i class="fas fa-arrow-up"></i></button>

    <div id="lightbox">
        <div id="lightbox-content"></div>
    </div>

    <script>
        // Back to Top
        let mybutton = document.getElementById("backToTop");
        window.onscroll = function() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                mybutton.style.display = "block";
            } else {
                mybutton.style.display = "none";
            }
        };
        function scrollToTop() { window.scrollTo({top: 0, behavior: 'smooth'}); }

        // ✅ Lightbox Logic (Card Click -> Full Content Zoom)
        const lightbox = document.getElementById('lightbox');
        const lightboxContent = document.getElementById('lightbox-content');

        function attachLightboxListeners() {
            // 選取所有生成的卡片
            const cards = document.querySelectorAll('.oll-card');
            
            cards.forEach(card => {
                card.addEventListener('click', (e) => {
                    e.stopPropagation();
                    // 顯示燈箱
                    lightbox.style.display = 'flex';
                    lightboxContent.style.display = 'flex'; // 讓 flexbox 樣式生效 (垂直置中)
                    // 將被點擊的卡片內容「複製」進燈箱
                    lightboxContent.innerHTML = card.innerHTML;
                });
            });
        }

        lightbox.addEventListener('click', () => {
            lightbox.style.display = 'none';
        });

        // --- Data Definitions ---
        const basicData = [
            { name: "R", desc: "Right Up", img: "R.jpg" }, { name: "L", desc: "Left Down", img: "L.jpg" },
            { name: "U", desc: "Top Left", img: "U.jpg" }, { name: "D", desc: "Bottom Right", img: "D.jpg" },
            { name: "F", desc: "Front CW", img: "F.jpg" }, { name: "B", desc: "Back CW", img: "B.jpg" }
        ];
        const primeData = [
            { name: "R'", desc: "Right Down", img: "Rp.jpg" }, { name: "L'", desc: "Left Up", img: "Lp.jpg" },
            { name: "U'", desc: "Top Right", img: "Up.jpg" }, { name: "D'", desc: "Bottom Left", img: "Dp.jpg" },
            { name: "F'", desc: "Front CCW", img: "Fp.jpg" }, { name: "B'", desc: "Back CCW", img: "Bp.jpg" }
        ];
        const wideData = [
            { name: "Rw (r)", desc: "Right 2 Layers", img: "Rw.jpg" }, { name: "Lw (l)", desc: "Left 2 Layers", img: "Lw.jpg" },
            { name: "Uw (u)", desc: "Top 2 Layers", img: "Uw.jpg" }, { name: "Dw (d)", desc: "Bottom 2 Layers", img: "Dw.jpg" },
            { name: "Fw (f)", desc: "Front 2 Layers", img: "Fw.jpg" }, { name: "Bw (b)", desc: "Back 2 Layers", img: "Bw.jpg" }
        ];
        const widePrimeData = [
            { name: "Rw' (r')", desc: "Right 2 Layers '", img: "Rwp.jpg" }, { name: "Lw' (l')", desc: "Left 2 Layers '", img: "Lwp.jpg" },
            { name: "Uw' (u')", desc: "Top 2 Layers '", img: "Uwp.jpg" }, { name: "Dw' (d')", desc: "Bottom 2 Layers '", img: "Dwp.jpg" },
            { name: "Fw' (f')", desc: "Front 2 Layers '", img: "Fwp.jpg" }, { name: "Bw' (b')", desc: "Back 2 Layers '", img: "Bwp.jpg" }
        ];
        const sliceData = [
            { name: "M", desc: "Middle (Like L)", img: "M.jpg" }, { name: "M'", desc: "Middle ' (Like R)", img: "Mp.jpg" },
            { name: "E", desc: "Equator (Like D)", img: "E.jpg" }, { name: "E'", desc: "Equator ' (Like U)", img: "Ep.jpg" },
            { name: "S", desc: "Standing (Like F)", img: "S.jpg" }, { name: "S'", desc: "Standing ' (Like B)", img: "Sp.jpg" }
        ];
        const rotationData = [
            { name: "x", desc: "Rotate like R", img: "x.jpg" }, { name: "x'", desc: "Rotate like R'", img: "xp.jpg" },
            { name: "y", desc: "Rotate like U", img: "y.jpg" }, { name: "y'", desc: "Rotate like U'", img: "yp.jpg" },
            { name: "z", desc: "Rotate like F", img: "z.jpg" }, { name: "z'", desc: "Rotate like F'", img: "zp.jpg" }
        ];

        // --- Render Functions ---
        function renderCards(data, containerId) {
            const container = document.getElementById(containerId);
            data.forEach(item => {
                const card = document.createElement('div');
                card.className = 'oll-card';
                card.innerHTML = `
                    <h4>${item.name}</h4>
                    <img src="${item.img}" alt="${item.name}" onerror="this.src='https://via.placeholder.com/150?text=Upload+${item.img}'">
                    <p>${item.desc}</p>
                `;
                container.appendChild(card);
            });
        }

        // Execute Rendering
        renderCards(basicData, 'basic-container');
        renderCards(primeData, 'prime-container');
        renderCards(wideData, 'wide-container');
        renderCards(widePrimeData, 'wide-prime-container');
        renderCards(sliceData, 'slice-container');
        renderCards(rotationData, 'rotation-container');

        // ✅ Attach Click Listeners After Cards are Rendered
        attachLightboxListeners();

    </script>
</body>
</html>